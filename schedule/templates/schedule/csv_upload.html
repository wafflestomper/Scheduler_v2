{% extends 'schedule/base.html' %}

{% block title %}Upload CSV Data{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2>Upload CSV Data</h2>
    </div>
    <div class="card-body">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="mb-3">
                <label for="id_data_type" class="form-label">{{ form.data_type.label }}</label>
                {{ form.data_type.errors }}
                <select name="{{ form.data_type.name }}" id="id_data_type" class="form-select">
                    {% for value, display in form.data_type.field.choices %}
                    <option value="{{ value }}">{{ display }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label for="id_csv_file" class="form-label">{{ form.csv_file.label }}</label>
                {{ form.csv_file.errors }}
                <input type="file" name="{{ form.csv_file.name }}" id="id_csv_file" class="form-control">
                <div class="form-text">{{ form.csv_file.help_text }}</div>
            </div>
            <button type="submit" class="btn btn-primary">Upload</button>
        </form>
    </div>
</div>

<div class="row mt-4">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <h3>CSV Format Requirements</h3>
            </div>
            <div class="card-body">
                <h5>Students CSV</h5>
                <p>Required columns: <code>student_id,name,grade,elective_prefs</code></p>
                <p>Example: <code>S001,John Doe,6,Art|Robotics</code></p>
                
                <h5>Teachers CSV</h5>
                <p>Required columns: <code>teacher_id,name,availability,subjects</code></p>
                <p>Example: <code>T001,Ms. Smith,M1-M6,Math|Science</code></p>
                
                <h5>Rooms CSV</h5>
                <p>Required columns: <code>room_id,number,capacity,type</code></p>
                <p>Example: <code>R001,101,30,classroom</code></p>
                
                <h5>Courses CSV</h5>
                <p>Required columns: <code>course_id,name,type,grade,max_students,teachers</code></p>
                <p>Example: <code>C001,Math,core,6,30,T001|T002</code></p>
                <p>Valid course types: <code>core</code>, <code>elective</code>, <code>required_elective</code></p>
                
                <h5>Periods CSV</h5>
                <p>Required columns: <code>period_id,day,slot,start_time,end_time</code></p>
                <p>Example: <code>P001,M,1,08:00,08:45</code></p>
                <p>Valid days: <code>M</code> (Monday), <code>T</code> (Tuesday), <code>W</code> (Wednesday), <code>TH</code> (Thursday), <code>F</code> (Friday)</p>
            </div>
        </div>
    </div>
</div>
{% endblock %} 